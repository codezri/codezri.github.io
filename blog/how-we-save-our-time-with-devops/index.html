<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CodeZri Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CodeZri Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-160712034-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-160712034-1",{anonymize_ip:!0})</script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script><title data-react-helmet="true">How We Save Our Time with¬†DevOps | CodeZri</title><meta data-react-helmet="true" property="og:title" content="How We Save Our Time with¬†DevOps | CodeZri"><meta data-react-helmet="true" name="description" content="Earlier, the software development lifecycle was simple&amp;mdash;we didn&#x27;t have automated feature delivery,"><meta data-react-helmet="true" property="og:description" content="Earlier, the software development lifecycle was simple&amp;mdash;we didn&#x27;t have automated feature delivery,"><meta data-react-helmet="true" property="og:url" content="https://codezri.org/blog/how-we-save-our-time-with-devops"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:image" content="https://codezri.org/media/cover-save-time-with-devops.png"><meta data-react-helmet="true" name="twitter:image" content="https://codezri.org/media/cover-save-time-with-devops.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.jpg"><link data-react-helmet="true" rel="canonical" href="https://codezri.org/blog/how-we-save-our-time-with-devops"><link data-react-helmet="true" rel="alternate" href="https://codezri.org/blog/how-we-save-our-time-with-devops" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://codezri.org/blog/how-we-save-our-time-with-devops" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.08a74ac2.css">
<link rel="preload" href="/assets/js/styles.fbaec0b4.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.cd716ae1.js" as="script">
<link rel="preload" href="/assets/js/main.b204acdf.js" as="script">
<link rel="preload" href="/assets/js/common.bba714d4.js" as="script">
<link rel="preload" href="/assets/js/2.590e5c8a.js" as="script">
<link rel="preload" href="/assets/js/ccc49370.ede9ee1c.js" as="script">
<link rel="preload" href="/assets/js/fb8726ed.5e4e380b.js" as="script">
<link rel="preload" href="/assets/js/402f66d1.bf6aa5f5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/codezri_white.png" alt="CodeZri logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/codezri_white.png" alt="CodeZri logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">CodeZri</strong></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/projects/">Projects</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://www.youtube.com/c/CodeZri" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">YouTube</a><a class="navbar__item navbar__link" href="/sponsors/">Sponsors</a><a class="navbar__item navbar__link" href="/foundation/">Foundation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/codezri" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://www.patreon.com/shalithasuranga" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">‚ù§Ô∏è Donate</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/codezri_white.png" alt="CodeZri logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/codezri_white.png" alt="CodeZri logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">CodeZri</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/projects/">Projects</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://www.youtube.com/c/CodeZri" target="_blank" rel="noopener noreferrer" class="menu__link">YouTube</a></li><li class="menu__list-item"><a class="menu__link" href="/sponsors/">Sponsors</a></li><li class="menu__list-item"><a class="menu__link" href="/foundation/">Foundation</a></li><li class="menu__list-item"><a href="https://github.com/codezri" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://www.patreon.com/shalithasuranga" target="_blank" rel="noopener noreferrer" class="menu__link">‚ù§Ô∏è Donate</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/how-we-save-our-time-with-devops">How We Save Our Time with¬†DevOps</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/neutralinojs-2022-roadmap">Neutralinojs 2022 Roadmap</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">How We Save Our Time with¬†DevOps</h1><div class="margin-vert--md"><time datetime="2022-01-03T00:00:00.000Z" class="blogPostDate_fNvV">January 3, 2022 ¬∑ 7 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"></div></div></header><div class="markdown"><p><img src="/assets/images/cover-save-time-with-devops-62e8967903b51b6ee5a686c2aea71852.png"></p><p>Earlier, the software development lifecycle was simple‚Äîwe didn&#x27;t have automated feature delivery,
complex application health checks, cloud-based test suites, etc. Later, the DevOps movement drastically
changed the software development processes by motivating developers to automate everything.
DevOps helped software development teams to productively build high-quality software, deliver features/patches
so fast, and make software systems stable.</p><p>There were no DevOps practices in the early development stages of the Neutralinojs framework. We did framework
releases manually by manually collecting release notes. We manually compiled the framework on different
platforms before releasing a new version. The release process was too much time-consuming since there were
no automated workflows to support our development-related activities.</p><p>Now we save many hours thanks to the newly implemented DevOps-first development process. In this article,
we&#x27;ll explain how Neutralinojs&#x27;s DevOps processes work‚Äîand how automation helps us to save development time.
You can use these DevOps practices in your projects to save your time too.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="troubles-with-the-manual-repetitive-activities"></a>Troubles with the Manual Repetitive Activities<a class="hash-link" href="#troubles-with-the-manual-repetitive-activities" title="Direct link to heading">#</a></h2><p>We didn&#x27;t use any automated workflow with initial Neutralinojs development activities‚Äîand had only three
build scripts to produce framework&#x27;s binaries on Linux, macOS, and Windows. We faced the following troubles
before implementing a DevOps-first development environment.</p><ul><li>The maintainer had to compile every pull request manually before merging to the main development branch.</li><li>Releases had too many changes and <a href="https://github.com/neutralinojs/neutralinojs/issues/654#issuecomment-945853188" target="_blank" rel="noopener noreferrer">broke APIs</a>
sometimes due to the time-consuming manual release process.</li><li>The release note generation process was too time-consuming‚Äîwe had to go through old commits manually and
build up a summary before every release.</li><li>If a new source code modification broke an existing feature, we typically noticed it when a developer
reported the issue via a GitHub issue.</li><li>Developers didn&#x27;t have scripts to automate their development activities in their local computers.
They didn&#x27;t have scoped test cases to verify code modifications locally before pushing to the GitHub repository.</li></ul><p>As you already noticed, the previous development workflow isn&#x27;t DevOps-first and not suitable for
modern open-source projects.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-we-implemented-devops-concepts"></a>How We Implemented DevOps¬†Concepts<a class="hash-link" href="#how-we-implemented-devops-concepts" title="Direct link to heading">#</a></h2><p>We cannot integrate DevOps concepts into our projects instantly‚ÄîDevOps integration is a step-by-step
process that we need to do by selecting the most suitable tools and workflows. Our goal was to build a
DevOps pipeline for the following critical requirements.</p><ul><li>Verifying every code change (commit) with a cloud-based automated test suite</li><li>Creating a release package with pre-built binaries for Linux, macOS, and Windows</li><li>Generating meaningful release notes based on a changelog file</li><li>Implementing a way for developers to verify their code changes locally with scoped test cases
(This is basically about running the automated test suite locally for a specific module)</li><li>Boost developers&#x27; productivity by offering some Shell scripts to automate manual tasks</li></ul><p>We built our DevOps pipeline with the following steps.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-0-writing-some-shell-scripts-to-boost-developers-productivity"></a>Step 0: Writing Some Shell Scripts to Boost Developers&#x27; Productivity<a class="hash-link" href="#step-0-writing-some-shell-scripts-to-boost-developers-productivity" title="Direct link to heading">#</a></h3><p>We need to automate local development activities before we think about remote CI/CD workflows. Entering
the same Unix commands set multiple times reduces programmers&#x27; programming productivity. Therefore, we
initially wrote the following Shell scripts to automate local development activities.</p><ul><li><a href="https://github.com/neutralinojs/neutralinojs/blob/main/scripts/update_client.sh" target="_blank" rel="noopener noreferrer"><code>scripts/update_client.sh</code></a>:
Updates the test app&#x27;s JavaScript client library by building a new version
from the source. This script is helpful when a developer adds new features to the Neutralinojs JavaScript API.</li><li><a href="https://github.com/neutralinojs/neutralinojs/blob/main/scripts/make_res_neu.sh" target="_blank" rel="noopener noreferrer"><code>scripts/make_res_neu.sh</code></a>:
Updates the test app&#x27;s resources bundle by building it again from local files.
This script is helpful when a developer works with the resource loader and static file server modules.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-1-building-a-better-test-suite"></a>Step 1: Building a Better Test¬†Suite<a class="hash-link" href="#step-1-building-a-better-test-suite" title="Direct link to heading">#</a></h3><p>Programmers often change source files to add new features and fix software bugs. A simple code change
can silently introduce a new software bug even though you review the code changes thoroughly. Therefore,
we need test suites to prevent software bugs.</p><p>Neutralinojs is written in two languages: C++ and JavaScript. Therefore, we wrote an integration test
suite to test both C++ and JavaScript code changes at once. Our integration test suite uses the
<a href="https://github.com/mochajs/mocha" target="_blank" rel="noopener noreferrer">Mocha</a> test framework. Neutralinojs JavaScript API communicates with
the main framework runtime via a WebSocket connection, so how can we build an integration test suite
around this?</p><p>Every Neutralinojs test case spawns a Neutralinojs app instance and captures the serialized program output
from a file. You can browse the source code of this test runner program from the
<a href="https://github.com/neutralinojs/neutralinojs/blob/main/spec/runner.js" target="_blank" rel="noopener noreferrer"><code>spec/runner.js</code></a> file.
See how we test the <a href="https://neutralino.js.org/docs/api/os#osexeccommandcommand-options" target="_blank" rel="noopener noreferrer"><code>os.execCommand</code></a>
API function with the following specification.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">describe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;os.execCommand&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">it</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;executes a command and returns result&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        runner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">            let info = await Neutralino.os</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">                        .execCommand(&#x27;node --version&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">            await __close(JSON.stringify(info));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">        </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> info </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">runner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getOutput</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> info </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;object&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pid</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;number&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">stdErr</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;string&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">stdOut</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;string&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exitCode</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;number&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">stdOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">charAt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;v&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">it</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;accepts stdIn&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        runner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">            let info = await Neutralino.os.execCommand(&#x27;node&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">                        {stdIn: &#x27;console.log(&quot;N&quot;);&#x27;});</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">            await __close(JSON.stringify(info));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">        </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> info </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">runner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getOutput</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">stdOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">charAt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;N&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here we can use <code>runner.run()</code> function to execute an arbitrary JavaScript code inside a Neutralinojs
application instance via the Node.js context. The <code>__close()</code> function helps to save the output and
close the application via the application context. Finally, we can use the <code>runner.getOutput()</code> function to
read the application instance output. We wrote our entire integration test suite by using this approach.</p><p>You can learn more internal details about our test suite from the following YouTube video:</p><iframe height="480" width="100%" src="https://www.youtube.com/embed/DdlzDklYHVs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><p>Also, you can browse the full source code of our integration test suite from
<a href="https://github.com/neutralinojs/neutralinojs/tree/main/spec" target="_blank" rel="noopener noreferrer">here</a>.
We can verify our code changes before pushing them to the remote repository via the following command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> spec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">test</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">module</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For example, if you&#x27;ve done a modification in the app module, you can enter <code>npm run test app</code> for running
app test cases that are defined in the app scope, as shown below.</p><p><img src="/assets/images/running-test-suite-for-app-module-ffe9fd81bf4b0d19923c7e76059df827.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-2-building-the-continuous-integration-ci-workflow"></a>Step 2: Building the Continuous Integration (CI)¬†Workflow<a class="hash-link" href="#step-2-building-the-continuous-integration-ci-workflow" title="Direct link to heading">#</a></h3><p>We use a pull request-based source code management model, but sometimes we push quick fixes directly to the
main development stream. Therefore, our GitHub Actions-based CI workflow gets invoked on every pull request
and commit. Once the workflow is invoked, it does the following operations:</p><ul><li>Compiling binaries on Linux, macOS, and Windows</li><li>Running the test suite on Linux and macOS</li></ul><p>GitHub Actions VMs doesn&#x27;t have built-in display devices, so our test suite runs on Linux with the
<a href="https://en.wikipedia.org/wiki/Xvfb" target="_blank" rel="noopener noreferrer">Xvfb</a> (X virtual frame buffer) tool. You can check the source code
of the CI workflow from <a href="https://github.com/neutralinojs/neutralinojs/blob/main/.github/workflows/test_suite.yml" target="_blank" rel="noopener noreferrer">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-3-building-the-continuous-delivery-cd-workflow"></a>Step 3: Building the Continuous Delivery (CD)¬†Workflow<a class="hash-link" href="#step-3-building-the-continuous-delivery-cd-workflow" title="Direct link to heading">#</a></h3><p>Nowadays, everyone tends to generate release notes automatically via commit messages. But, we implemented
a changelog-based release note generation concept due to the following problematic situations.</p><ul><li>We didn&#x27;t like to force new contributors to follow a strict commit convention.</li><li>Commit messages are literally saying what&#x27;s changed‚Äîthey don&#x27;t give a meaningful overview about what
we are delivering in a particular release.</li></ul><p>Therefore, we built our own minimal release note generation solution called
<a href="https://github.com/codezri/releasezri" target="_blank" rel="noopener noreferrer">ReleaseZri</a>. ReleaseZri generates
release notes based on a changelog file and markdown template. Now when the maintainer invokes the
framework&#x27;s CD workflow with a version number, the following operations will happen automatically.</p><ul><li>Building x64 binaries on Linux, macOS, and Windows</li><li>Generating release notes from the CHANGELOG.md file</li><li>Publishing a new GitHub release with build artifacts and release notes</li><li>Notifying the developer community via a Discord bot</li></ul><p>ReleaseZri helped us to automate the CD workflow of the following repositories.</p><ul><li><a href="https://github.com/neutralinojs/neutralinojs" target="_blank" rel="noopener noreferrer">Neutralinojs framework</a></li><li><a href="https://github.com/neutralinojs/neutralino.js" target="_blank" rel="noopener noreferrer">Neutralinojs client library</a>¬†</li><li><a href="https://github.com/neutralinojs/neutralinojs-cli" target="_blank" rel="noopener noreferrer">Neutralinojs CLI</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>Now every software development team strives to implement DevOps workflows to release features rapidly
and stay competitive in the modern software development market. DevOps concepts help us to build high-quality
software products by automating every manual step.</p><p>We save many hours with the DevOps culture at the Neutralinojs codebase. Now we can generate releases
with a single mouse click with GitHub Actions, as shown below.</p><p><img src="/assets/images/creating-a-release-with-a-click-a8bc8b59e6038f2717baa59d0f6ee541.png"></p><p>The above action creates a <a href="https://github.com/neutralinojs/neutralinojs/releases/tag/v4.1.0" target="_blank" rel="noopener noreferrer">release</a>
with meaningful release notes, as shown below.</p><p><img src="/assets/images/sample-releasezri-release-19181c46c0cce5ebdcb38015c2c9832c.png"></p><p>If your software product doesn&#x27;t follow a DevOps-first
architecture yet, consider implementing some DevOps principles, see how much time you can save.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/devops">devops</a><a class="margin-horiz--sm" href="/blog/tags/neutralinojs">neutralinojs</a><a class="margin-horiz--sm" href="/blog/tags/javascript">javascript</a><a class="margin-horiz--sm" href="/blog/tags/c">c++</a><a class="margin-horiz--sm" href="/blog/tags/automation">automation</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/neutralinojs-2022-roadmap"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Neutralinojs 2022 Roadmap ¬ª</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2Jxe thin-scrollbar"><div><div data-ea-publisher="neutralino" data-ea-type="image" id="codezri-blog"></div></div><ul class="table-of-contents table-of-contents__left-border"><li><a href="#troubles-with-the-manual-repetitive-activities" class="table-of-contents__link">Troubles with the Manual Repetitive Activities</a></li><li><a href="#how-we-implemented-devops-concepts" class="table-of-contents__link">How We Implemented DevOps¬†Concepts</a><ul><li><a href="#step-0-writing-some-shell-scripts-to-boost-developers-productivity" class="table-of-contents__link">Step 0: Writing Some Shell Scripts to Boost Developers&#39; Productivity</a></li><li><a href="#step-1-building-a-better-test-suite" class="table-of-contents__link">Step 1: Building a Better Test¬†Suite</a></li><li><a href="#step-2-building-the-continuous-integration-ci-workflow" class="table-of-contents__link">Step 2: Building the Continuous Integration (CI)¬†Workflow</a></li><li><a href="#step-3-building-the-continuous-delivery-cd-workflow" class="table-of-contents__link">Step 3: Building the Continuous Delivery (CD)¬†Workflow</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Open Source</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/codezri" target="_blank" rel="noopener noreferrer" class="footer__link-item">CodeZri</a></li><li class="footer__item"><a href="https://github.com/neutralinojs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Neutralinojs</a></li><li class="footer__item"><a href="https://github.com/jerverless" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jerverless</a></li><li class="footer__item"><a href="https://github.com/shalithasuranga" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shalitha Suranga</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/c/CodeZri" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/codezri" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://www.twitter.com/codezri" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://discord.gg/92UadNvnfh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://forms.gle/mTxB9gdKsdWPkwBQA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact CodeZri</a></li><li class="footer__item"><a href="https://github.com/codezri/design-guide" target="_blank" rel="noopener noreferrer" class="footer__link-item">Design guide</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy-policy">Privacy policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 CodeZri.org</div></div></div></footer></div>
<script src="/assets/js/styles.fbaec0b4.js"></script>
<script src="/assets/js/runtime~main.cd716ae1.js"></script>
<script src="/assets/js/main.b204acdf.js"></script>
<script src="/assets/js/common.bba714d4.js"></script>
<script src="/assets/js/2.590e5c8a.js"></script>
<script src="/assets/js/ccc49370.ede9ee1c.js"></script>
<script src="/assets/js/fb8726ed.5e4e380b.js"></script>
<script src="/assets/js/402f66d1.bf6aa5f5.js"></script>
</body>
</html>